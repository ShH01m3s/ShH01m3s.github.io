<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ES6について - Observer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="https://bakerst221b.com/favicon.png">

  
  
  <link rel="stylesheet" href="/css/style.min.aad43d4ecb69a264f2539b89d7f779d5f3cdff22e7585fe5fc3c77272f1c2696.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/docs/">
        <span>Docs</span>
      </a>
    </li>
    
    <li class="menu-item-articles">
      <a href="/docs/articles">
        <span>Articles</span>
      </a>
    </li>
    
    <li class="menu-item-blog">
      <a href="/docs/blog">
        <span>Blog</span>
      </a>
    </li>
    
    <li class="menu-item-about me">
      <a href="/docs/about">
        <span>About me</span>
      </a>
    </li>
    
    <li class="menu-item-achievements">
      <a href="/docs/achievements">
        <span>Achievements</span>
      </a>
    </li>
    
    <li class="menu-item-contacts">
      <a href="/docs/contact">
        <span>Contacts</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://bakerst221b.com"><img alt="Logo" src="/images/logo.svg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://bakerst221b.com"><img alt="Logo" src="/images/logo-mobile.svg" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="/docs/">
        <span>Docs</span>
      </a>
    </li>
    
    <li class="menu-item-articles">
      <a href="/docs/articles">
        <span>Articles</span>
      </a>
    </li>
    
    <li class="menu-item-blog">
      <a href="/docs/blog">
        <span>Blog</span>
      </a>
    </li>
    
    <li class="menu-item-about me">
      <a href="/docs/about">
        <span>About me</span>
      </a>
    </li>
    
    <li class="menu-item-achievements">
      <a href="/docs/achievements">
        <span>Achievements</span>
      </a>
    </li>
    
    <li class="menu-item-contacts">
      <a href="/docs/contact">
        <span>Contacts</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Docs</h4>
  <ul>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/articles/mobile/android/fundamentals/activities/">Activities</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/articles/mobile/android/fieldmanuals/btfm/">Btfm Android</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/articles/mobile/android/attacks/ipc-attacks/">IPC Attacks</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/blog/2018/04/dot-net-confuser/">.NET Confuser</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/blog/2018/07/analytic-protiv-khishnika/">Analytic Protiv Khishnika</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/blog/2018/07/undesirable-mail/">Undesirable Mail</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/articles/mobile/android/fieldmanuals/rtfm/">Rtfm Android</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/blog/2020/09/how-i-met-hugo/">How I Met Hugo</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/articles/forensics/linux/plan/">Linux</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/articles/forensics/macos/plan/">MacOSX Forensics Plan</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/articles/forensics/memory/plan/">Plan for Memory Forensics</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/articles/forensics/reveng/plan/">Plan for Reverse Engineering</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/articles/forensics/net/plan/">Windows Forensics Plan</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/articles/forensics/win/plan/">Windows Forensics Plan</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/blog/2020-06-06-changes-in-java-string/">Changes to String in java (from 1.7.0_06)</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/blog/2020-05-01-algorithms-graphs/">Algorithms - Graphs</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/blog/2020-04-29-subtyping/">Programming Language - Subtyping</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/blog/2020-02-29-racket/">Racket notes</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/blog/2019-12-30-standardml-notes/">Standard ML notes</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/blog/2019-03-28-javascript-comparison/">JavaScript Comparison operation at a glance</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/blog/2019-03-22-js-tips/">Js tips I can&#39;t remember</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/blog/2019-03-08-es6-bind-trick/">Bind specific arguments of a function</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/blog/2019-03-08-object-assign-with-accessor-descriptor/">Object.assign() with accessor descriptor</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/blog/2019-01-19-vue-navigation-guards/">VueのNavigation Guards</a>
    </li>
    
    <li class="active ">
      <a href="https://bakerst221b.com/docs/blog/2019-01-18-es6/">ES6について</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/articles/mobile/ios/rtfm/"></a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/about/">About me</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/achievements/">Achievements</a>
    </li>
    
    <li class="">
      <a href="https://bakerst221b.com/docs/contact/">Contact</a>
    </li>
    
  </ul>
</div>

          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">ES6について</h1>
<div class="content ">
  <h2 id="overview">Overview</h2>
<p><a href="https://github.com/lukehoban/es6features#readme">https://github.com/lukehoban/es6features#readme</a></p>
<p><a href="http://help.wtf/es6">http://help.wtf/es6</a></p>
<p><a href="http://es6-features.org">http://es6-features.org</a></p>
<h2 id="string">String</h2>
<h3 id="stringx-is-deprecated-use-stringprototypex-instead">String.x is deprecated; use String.prototype.x instead.</h3>
<p>非推奨の構文:</p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span> 
<span class="nb">String</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">num</span><span class="p">,</span> <span class="sr">/5/</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">);</span>
</code></pre></div><p>標準の構文:</p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kd">var</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>
<span class="nb">String</span><span class="p">(</span><span class="nx">num</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/5/</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">);</span>
</code></pre></div><h3 id="template-literal">Template literal</h3>
<p>Nesting templates:</p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kr">const</span> <span class="nx">classes</span> <span class="o">=</span> <span class="sb">`header </span><span class="si">${</span> <span class="nx">isLargeScreen</span><span class="p">()</span> <span class="o">?</span> <span class="s1">&#39;&#39;</span> <span class="o">:</span> <span class="sb">`icon-</span><span class="si">${</span><span class="nx">item</span><span class="p">.</span><span class="nx">isCollapsed</span> <span class="o">?</span> <span class="s1">&#39;expander&#39;</span> <span class="o">:</span> <span class="s1">&#39;collapser&#39;</span><span class="si">}</span><span class="sb">`</span> <span class="si">}</span><span class="sb">`</span><span class="p">;</span>
</code></pre></div><p>タグ付けされたtemplate</p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">tag</span><span class="p">(</span><span class="nx">strings</span><span class="p">,</span> <span class="p">...</span><span class="nx">values</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">strings</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span> <span class="c1">// &#34;Hello &#34;
</span><span class="c1"></span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">strings</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span> <span class="c1">// &#34; world&#34;
</span><span class="c1"></span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>  <span class="c1">// 15
</span><span class="c1"></span>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">values</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>  <span class="c1">// 50
</span><span class="c1"></span>
  <span class="k">return</span> <span class="s2">&#34;Bazinga!&#34;</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">tag</span><span class="sb">`Hello </span><span class="si">${</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="si">}</span><span class="sb"> world </span><span class="si">${</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">b</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<span class="c1">// &#34;Bazinga!&#34;
</span></code></pre></div><p><a href="http://help.wtf/es6#template_literals">http://help.wtf/es6#template_literals</a></p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="c1">// Backticks enclose a template literal; ${} interpolates arbitrary expressions
</span><span class="c1"></span><span class="kd">let</span> <span class="nx">num</span> <span class="o">=</span> <span class="mi">99</span><span class="p">;</span> <span class="c1">// see block scope
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">num</span><span class="si">}</span><span class="sb"> bottles of beer on the wall, </span><span class="si">${</span><span class="nx">num</span><span class="si">}</span><span class="sb"> bottles of beer
</span><span class="sb">Take one down and pass it around, </span><span class="si">${</span><span class="o">--</span><span class="nx">num</span><span class="si">}</span><span class="sb"> bottles of beer!`</span><span class="p">);</span>

<span class="c1">// Tagged form: Attach a function that processes string fragments and evaluated
</span><span class="c1">// expressions
</span><span class="c1"></span><span class="kd">function</span> <span class="nx">celsius</span><span class="p">(</span><span class="nx">strings</span><span class="p">,</span> <span class="p">...</span><span class="nx">values</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">rv</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
  <span class="nx">strings</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">string</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="c1">// See arrow functions
</span><span class="c1"></span>    <span class="nx">rv</span> <span class="o">+=</span> <span class="nx">string</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">values</span><span class="p">[</span><span class="nx">index</span><span class="p">]</span> <span class="o">!==</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span>
      <span class="nx">rv</span> <span class="o">+=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">((</span><span class="nx">values</span><span class="p">[</span><span class="nx">index</span><span class="p">]</span> <span class="o">-</span> <span class="mi">32</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1.8</span><span class="p">);</span>
  <span class="p">});</span>
  <span class="k">return</span> <span class="nx">rv</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Converts all the interpolated numbers to the proper unit
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">celsius</span> <span class="sb">`Today temperatures ranged from </span><span class="si">${</span><span class="mi">60</span><span class="si">}</span><span class="sb"> to </span><span class="si">${</span><span class="mi">65</span><span class="si">}</span><span class="sb"> degrees.`</span><span class="p">);</span>
</code></pre></div><h2 id="var-and-let">var and let</h2>
<p><a href="https://eslint.org/docs/rules/no-var">https://eslint.org/docs/rules/no-var</a></p>
<blockquote>
<p>ECMAScript 6 allows programmers to create variables with block scope instead of function scope using the let and const keywords. Block scope is common in many other programming languages and helps programmers avoid mistakes.</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="c1">// 1
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">j</span><span class="p">)</span> <span class="c1">// ReferenceError: not defined
</span></code></pre></div><h2 id="default-function-parameters">Default function parameters</h2>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kd">function</span> <span class="nx">multiply</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">b</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><h2 id="iterators-and-forof">Iterators and for&hellip;of</h2>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kd">let</span> <span class="nx">fibonacci</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">Symbol</span><span class="p">.</span><span class="nx">iterator</span><span class="p">]()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">pre</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">cur</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">next</span><span class="p">()</span> <span class="p">{</span>
        <span class="p">[</span><span class="nx">pre</span><span class="p">,</span> <span class="nx">cur</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">cur</span><span class="p">,</span> <span class="nx">pre</span> <span class="o">+</span> <span class="nx">cur</span><span class="p">];</span>
        <span class="k">return</span> <span class="p">{</span> <span class="nx">done</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="nx">cur</span> <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">n</span> <span class="k">of</span> <span class="nx">fibonacci</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// truncate the sequence at 1000
</span><span class="c1"></span>  <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><p>More: <a href="https://en.wikipedia.org/wiki/Duck_typing">Duck Typing</a></p>
<h2 id="modules">Modules</h2>
<h3 id="import-and-export">import and export</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export</a></p>
<h3 id="module-loaders">Module Loaders</h3>
<p>Module loaders support:</p>
<ul>
<li>Dynamic loading</li>
<li>State isolation</li>
<li>Global namespace isolation</li>
<li>Compilation hooks</li>
<li>Nested virtualization</li>
</ul>
<p>The default module loader can be configured, and new loaders can be constructed to evaluate and load code in isolated or constrained contexts.</p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="c1">// Dynamic loading – ‘System’ is default loader
</span><span class="c1"></span><span class="nx">System</span><span class="p">.</span><span class="kr">import</span><span class="p">(</span><span class="s1">&#39;lib/math&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">alert</span><span class="p">(</span><span class="s2">&#34;2π = &#34;</span> <span class="o">+</span> <span class="nx">m</span><span class="p">.</span><span class="nx">sum</span><span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">pi</span><span class="p">,</span> <span class="nx">m</span><span class="p">.</span><span class="nx">pi</span><span class="p">));</span>
<span class="p">});</span>

<span class="c1">// Create execution sandboxes – new Loaders
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">loader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Loader</span><span class="p">({</span>
  <span class="nx">global</span><span class="o">:</span> <span class="nx">fixup</span><span class="p">(</span><span class="nb">window</span><span class="p">)</span> <span class="c1">// replace ‘console.log’
</span><span class="c1"></span><span class="p">});</span>
<span class="nx">loader</span><span class="p">.</span><span class="nb">eval</span><span class="p">(</span><span class="s2">&#34;console.log(&#39;hello world!&#39;);&#34;</span><span class="p">);</span>

<span class="c1">// Directly manipulate module cache
</span><span class="c1"></span><span class="nx">System</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">);</span>
<span class="nx">System</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&#39;jquery&#39;</span><span class="p">,</span> <span class="nx">Module</span><span class="p">({</span><span class="nx">$</span><span class="o">:</span> <span class="nx">$</span><span class="p">}));</span> <span class="c1">// WARNING: not yet finalized
</span></code></pre></div><h2 id="promises">Promises</h2>
<p><a href="https://github.com/azu/promises-book">JavaScript Promiseの本</a></p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kd">function</span> <span class="nx">asyncFunction</span><span class="p">()</span> <span class="p">{</span>
    
    <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">resolve</span><span class="p">(</span><span class="s1">&#39;Async Hello world&#39;</span><span class="p">);</span>
        <span class="p">},</span> <span class="mi">16</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="nx">asyncFunction</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>    <span class="c1">// =&gt; &#39;Async Hello world&#39;
</span><span class="c1"></span><span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div><h2 id="generators">Generators</h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols</a></p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="c1">// A generator function will return an object that implements the iteration
</span><span class="c1">// protocol, i.e., it has a next() method that returns
</span><span class="c1">// { value: &lt; some value&gt;, done: &lt;true or false&gt; }
</span><span class="c1"></span><span class="kd">function</span><span class="o">*</span> <span class="nx">incRand</span><span class="p">(</span><span class="nx">max</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Asterisk defines this as a generator function
</span><span class="c1"></span>  <span class="k">while</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Pause execution after the yield, resume when next(&lt;something&gt;) is called
</span><span class="c1"></span>    <span class="c1">// and assign &lt;something&gt; to x
</span><span class="c1"></span>    <span class="kd">let</span> <span class="nx">x</span> <span class="o">=</span> <span class="k">yield</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">max</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">max</span> <span class="o">+=</span> <span class="nx">x</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">rng</span> <span class="o">=</span> <span class="nx">incRand</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="c1">// Now we have a generator object to work with
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rng</span><span class="p">.</span><span class="nx">next</span><span class="p">());</span> <span class="c1">// { value: &lt;between 1 and 2&gt;, done: false }
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rng</span><span class="p">.</span><span class="nx">next</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span> <span class="c1">// as above, but between 1 and 5
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rng</span><span class="p">.</span><span class="nx">next</span><span class="p">());</span> <span class="c1">// as above, but NaN since 5 + undefined results in NaN
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rng</span><span class="p">.</span><span class="nx">next</span><span class="p">(</span><span class="mi">20</span><span class="p">));</span> <span class="c1">// Oops, looks like we broke it! NaN again.
</span><span class="c1"></span><span class="nx">rng</span><span class="p">.</span><span class="k">throw</span><span class="p">(</span><span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Unrecoverable generator state.&#39;</span><span class="p">));</span> <span class="c1">// Will be thrown from yield
</span></code></pre></div><h2 id="shorthand-of-object-initializer">shorthand of Object initializer</h2>
<p><a href="https://ariya.io/2013/02/es6-and-object-literal-property-value-shorthand">https://ariya.io/2013/02/es6-and-object-literal-property-value-shorthand</a></p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="c1">// Shorthand property names (ES2015)
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">42</span><span class="p">,</span> <span class="nx">c</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">};</span>

<span class="c1">// Shorthand method names (ES2015)
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">property</span><span class="p">(</span><span class="nx">parameters</span><span class="p">)</span> <span class="p">{}</span>
<span class="p">};</span>

<span class="c1">// Computed property names (ES2015)
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">prop</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">prop</span><span class="p">]</span><span class="o">:</span> <span class="s1">&#39;hey&#39;</span><span class="p">,</span>
  <span class="p">[</span><span class="s1">&#39;b&#39;</span> <span class="o">+</span> <span class="s1">&#39;ar&#39;</span><span class="p">]</span><span class="o">:</span> <span class="s1">&#39;there&#39;</span>
<span class="p">};</span>
</code></pre></div><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment</a></p>
<h2 id="destructuring">Destructuring</h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment</a></p>
<p>The destructuring assignment syntax is a JavaScript expression that makes it possible to unpack values from arrays, or properties from objects, into distinct variables. Destructuring is <strong>fail-soft</strong>, similar to standard object lookup foo[&ldquo;bar&rdquo;], producing undefined values when not found.</p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kd">let</span> <span class="p">[</span><span class="nx">n1</span><span class="p">,</span> <span class="nx">n2</span><span class="p">,</span> <span class="nx">n3</span><span class="p">,</span> <span class="nx">n4</span><span class="p">,</span> <span class="p">...</span><span class="nx">r</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="p">{</span><span class="nx">number</span><span class="o">:</span> <span class="mi">23</span><span class="p">},</span> <span class="mi">694</span><span class="p">,</span> <span class="s1">&#39;eighteen&#39;</span><span class="p">];</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">n1</span><span class="p">,</span> <span class="nx">n2</span><span class="p">,</span> <span class="nx">n3</span><span class="p">,</span> <span class="nx">n4</span><span class="p">);</span> <span class="c1">// &#34;100 &#39;three&#39; 34 { number: 23 }&#34;
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span> <span class="c1">// &#34;[ 694, &#39;eighteen&#39; ]&#34;
</span></code></pre></div><p>Two variables values can be swapped in one destructuring expression</p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

<span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">b</span><span class="p">,</span> <span class="nx">a</span><span class="p">];</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span> <span class="c1">// 3
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span> <span class="c1">// 1
</span></code></pre></div><p>Object Destructuring</p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kd">var</span> <span class="nx">o</span> <span class="o">=</span> <span class="p">{</span><span class="nx">p</span><span class="o">:</span> <span class="mi">42</span><span class="p">,</span> <span class="nx">q</span><span class="o">:</span> <span class="kc">true</span><span class="p">};</span>
<span class="kd">var</span> <span class="p">{</span><span class="nx">p</span><span class="p">,</span> <span class="nx">q</span><span class="p">}</span> <span class="o">=</span> <span class="nx">o</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span> <span class="c1">// 42
</span><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">q</span><span class="p">);</span> <span class="c1">// true
</span></code></pre></div><p>Works for function parameters</p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kd">var</span> <span class="nx">fmt</span> <span class="o">=</span> <span class="p">({</span><span class="nx">id</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">name</span><span class="p">})</span> <span class="p">=&gt;</span> <span class="sb">`</span><span class="si">${</span><span class="nx">id</span><span class="si">}</span><span class="sb">: </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">fmt</span><span class="p">({</span> <span class="nx">id</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;joe&#39;</span><span class="p">}));</span>
</code></pre></div><h2 id="symbol">symbol</h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Glossary/Symbol">https://developer.mozilla.org/en-US/docs/Glossary/Symbol</a></p>
<p><code>sympol</code> is a primitive data type. The Symbol() function returns a value of type symbol and every returned value is unique. It <strong>does not</strong> support <code>new Symbol()</code></p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kd">var</span> <span class="nx">sym1</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">sym2</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">sym3</span> <span class="o">=</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span>

<span class="nx">Symbol</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span> <span class="o">===</span> <span class="nx">Symbol</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">);</span> <span class="c1">// false
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">sym</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Symbol</span><span class="p">();</span> <span class="c1">// TypeError
</span></code></pre></div><h2 id="map--set--weakmap--weakset">Map + Set + WeakMap + WeakSet</h2>
<p>Reference: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap#Why_WeakMap">Why WeakMap?</a></p>
<blockquote>
<p>Native WeakMaps hold &ldquo;weak&rdquo; references to key objects, which means that they do not prevent garbage collection in case there would be no other reference to the key object.  This also avoids preventing garbage collection of values in the map.</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="err">/ Sets</span>
<span class="kd">var</span> <span class="nx">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Set</span><span class="p">();</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="s2">&#34;goodbye&#34;</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">);</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">size</span> <span class="o">===</span> <span class="mi">2</span><span class="p">;</span>
<span class="nx">s</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">)</span> <span class="o">===</span> <span class="kc">true</span><span class="p">;</span>

<span class="c1">// Maps
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Map</span><span class="p">();</span>
<span class="nx">m</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">,</span> <span class="mi">42</span><span class="p">);</span>
<span class="nx">m</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="mi">34</span><span class="p">);</span>
<span class="nx">m</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="o">==</span> <span class="mi">34</span><span class="p">;</span>

<span class="c1">// Weak Maps
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">wm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WeakMap</span><span class="p">();</span>
<span class="nx">wm</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="p">{</span> <span class="nx">extra</span><span class="o">:</span> <span class="mi">42</span> <span class="p">});</span>
<span class="nx">wm</span><span class="p">.</span><span class="nx">size</span> <span class="o">===</span> <span class="kc">undefined</span>

<span class="c1">// Weak Sets
</span><span class="c1"></span><span class="kd">var</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WeakSet</span><span class="p">();</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">add</span><span class="p">({</span> <span class="nx">data</span><span class="o">:</span> <span class="mi">42</span> <span class="p">});</span>
<span class="c1">// Because the added object has no other references, it will not be held in the set
</span></code></pre></div><h2 id="new-apis-in-core-libraries">New APIs in core libraries</h2>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="c1">// Number
</span><span class="c1"></span><span class="nb">Number</span><span class="p">.</span><span class="nx">EPSILON</span>
<span class="nb">Number</span><span class="p">.</span><span class="nx">isInteger</span><span class="p">(</span><span class="kc">Infinity</span><span class="p">)</span> <span class="c1">// false
</span><span class="c1"></span><span class="nb">Number</span><span class="p">.</span><span class="nb">isNaN</span><span class="p">(</span><span class="s2">&#34;NaN&#34;</span><span class="p">)</span> <span class="c1">// false
</span><span class="c1"></span>
<span class="c1">// Math
</span><span class="c1"></span><span class="nb">Math</span><span class="p">.</span><span class="nx">acosh</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1">// 1.762747174039086
</span><span class="c1"></span><span class="nb">Math</span><span class="p">.</span><span class="nx">hypot</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="c1">// 5
</span><span class="c1"></span><span class="nb">Math</span><span class="p">.</span><span class="nx">imul</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">// 2
</span><span class="c1"></span>
<span class="c1">// String
</span><span class="c1"></span><span class="s2">&#34;abcde&#34;</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s2">&#34;cd&#34;</span><span class="p">)</span> <span class="c1">// true
</span><span class="c1"></span><span class="s2">&#34;abc&#34;</span><span class="p">.</span><span class="nx">repeat</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1">// &#34;abcabcabc&#34;
</span><span class="c1"></span>
<span class="c1">// Array
</span><span class="c1"></span><span class="nb">Array</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">))</span> <span class="c1">// Returns a real Array
</span><span class="c1"></span><span class="nb">Array</span><span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">// Similar to new Array(...), but without special one-arg behavior
</span><span class="c1"></span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">].</span><span class="nx">fill</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">// [0,7,7]
</span><span class="c1"></span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">find</span><span class="p">(</span><span class="nx">x</span> <span class="p">=&gt;</span> <span class="nx">x</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">// 3
</span><span class="c1"></span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">findIndex</span><span class="p">(</span><span class="nx">x</span> <span class="p">=&gt;</span> <span class="nx">x</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">// 1
</span><span class="c1"></span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">].</span><span class="nx">copyWithin</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1">// [1, 2, 3, 1, 2]
</span><span class="c1"></span><span class="p">[</span><span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="s2">&#34;b&#34;</span><span class="p">,</span> <span class="s2">&#34;c&#34;</span><span class="p">].</span><span class="nx">entries</span><span class="p">()</span> <span class="c1">// iterator [0, &#34;a&#34;], [1,&#34;b&#34;], [2,&#34;c&#34;]
</span><span class="c1"></span><span class="p">[</span><span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="s2">&#34;b&#34;</span><span class="p">,</span> <span class="s2">&#34;c&#34;</span><span class="p">].</span><span class="nx">keys</span><span class="p">()</span> <span class="c1">// iterator 0, 1, 2
</span><span class="c1"></span><span class="p">[</span><span class="s2">&#34;a&#34;</span><span class="p">,</span> <span class="s2">&#34;b&#34;</span><span class="p">,</span> <span class="s2">&#34;c&#34;</span><span class="p">].</span><span class="nx">values</span><span class="p">()</span> <span class="c1">// iterator &#34;a&#34;, &#34;b&#34;, &#34;c&#34;
</span><span class="c1"></span>
<span class="c1">// Object
</span><span class="c1"></span><span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">(</span><span class="nx">Point</span><span class="p">,</span> <span class="p">{</span> <span class="nx">origin</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="p">})</span>
</code></pre></div><h2 id="proxies">Proxies</h2>
<p>The Proxy object is used to define custom behavior for fundamental operations (e.g. property lookup, assignment, enumeration, function invocation, etc).</p>
<p>See more examples at <a href="%5Bhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy%5D(https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy)">MDN Proxy doc</a></p>
<p><strong>No-op forwarding proxy</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kd">var</span> <span class="nx">target</span> <span class="o">=</span> <span class="p">{};</span>
<span class="kd">var</span> <span class="nx">p</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Proxy</span><span class="p">(</span><span class="nx">target</span><span class="p">,</span> <span class="p">{});</span>

<span class="nx">p</span><span class="p">.</span><span class="nx">a</span> <span class="o">=</span> <span class="mi">37</span><span class="p">;</span> <span class="c1">// operation forwarded to the target
</span><span class="c1"></span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">target</span><span class="p">.</span><span class="nx">a</span><span class="p">);</span> <span class="c1">// 37. The operation has been properly forwarded
</span></code></pre></div><p><strong>Validation</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kd">let</span> <span class="nx">validator</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">set</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">prop</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">prop</span> <span class="o">===</span> <span class="s1">&#39;age&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">Number</span><span class="p">.</span><span class="nx">isInteger</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s1">&#39;The age is not an integer&#39;</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">&gt;</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nx">RangeError</span><span class="p">(</span><span class="s1">&#39;The age seems invalid&#39;</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// The default behavior to store the value
</span><span class="c1"></span>    <span class="nx">obj</span><span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>

    <span class="c1">// Indicate success
</span><span class="c1"></span>    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Proxy</span><span class="p">({},</span> <span class="nx">validator</span><span class="p">);</span>

<span class="nx">person</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">age</span><span class="p">);</span> <span class="c1">// 100
</span><span class="c1"></span><span class="nx">person</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="s1">&#39;young&#39;</span><span class="p">;</span> <span class="c1">// Throws an exception
</span><span class="c1"></span><span class="nx">person</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="mi">300</span><span class="p">;</span> <span class="c1">// Throws an exception
</span></code></pre></div><h2 id="binary-and-octal-literals">Binary and Octal Literals</h2>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">0b111110111 === 503 // true
0o767 === 503 // true
</code></pre></div><h2 id="その他">その他</h2>
<h3 id="reflect-api">Reflect API</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect</a></p>
<h3 id="tail-calls">Tail calls</h3>
<div class="highlight"><pre class="chroma"><code class="language-Javascript" data-lang="Javascript"><span class="kd">function</span> <span class="nx">factorial</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span> <span class="nx">acc</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="s1">&#39;use strict&#39;</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="nx">acc</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">factorial</span><span class="p">(</span><span class="nx">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">n</span> <span class="o">*</span> <span class="nx">acc</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Stack overflow in most implementations today,
</span><span class="c1">// but safe on arbitrary inputs in ES6
</span><span class="c1"></span><span class="nx">factorial</span><span class="p">(</span><span class="mi">100000</span><span class="p">)</span>
</code></pre></div><h3 id="unicode">Unicode</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/unicode">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/unicode</a></p>
</div>
</div>

        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic"><a href="https://www.zerostatic.io">www.zerostatic.io</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  

  
  

  
  <script type="text/javascript" src="/js/scripts.min.1237ff71925bb8625c97a9af8db4c54525258bedfd7c47493daaff723bea755e.js"></script>
  

  
  
  
    
  


</body>

</html>
