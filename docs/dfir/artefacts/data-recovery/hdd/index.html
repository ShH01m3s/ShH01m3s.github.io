<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HDD Overview - Analyst</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="https://bakerst221b.com/favicon.png">
  <link href="/css/style-classic.css"></link>
  
  
  <link rel="stylesheet" href="/css/style.min.564b5f4faf3af87992cb8ab298314448914c22dbdb3f2f9c584546b21b8d407c.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home 🏡">
      <a href="/">
        <span>Home 🏡</span>
      </a>
    </li>
    
    <li class="menu-item-blog ✍️">
      <a href="/docs/blog">
        <span>Blog ✍️</span>
      </a>
    </li>
    
    <li class="menu-item-dfir 🔍">
      <a href="/docs/dfir">
        <span>DFIR 🔍</span>
      </a>
    </li>
    
    <li class="menu-item-crypto 🗝️">
      <a href="/docs/cryptography">
        <span>Crypto 🗝️</span>
      </a>
    </li>
    
    <li class="menu-item-toolkit 🧰">
      <a href="/docs/toolkit">
        <span>Toolkit 🧰</span>
      </a>
    </li>
    
    <li class="menu-item-about me 🧝🏽‍♀️">
      <a href="/docs/about">
        <span>About me 🧝🏽‍♀️</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://bakerst221b.com"><img alt="Logo" src="/images/logo.png" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://bakerst221b.com"><img alt="Logo" src="/images/logo-mobile.svg" /></a>
    </div>
    

    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home 🏡">
      <a href="/">
        <span>Home 🏡</span>
      </a>
    </li>
    
    <li class="menu-item-blog ✍️">
      <a href="/docs/blog">
        <span>Blog ✍️</span>
      </a>
    </li>
    
    <li class="menu-item-dfir 🔍">
      <a href="/docs/dfir">
        <span>DFIR 🔍</span>
      </a>
    </li>
    
    <li class="menu-item-crypto 🗝️">
      <a href="/docs/cryptography">
        <span>Crypto 🗝️</span>
      </a>
    </li>
    
    <li class="menu-item-toolkit 🧰">
      <a href="/docs/toolkit">
        <span>Toolkit 🧰</span>
      </a>
    </li>
    
    <li class="menu-item-about me 🧝🏽‍♀️">
      <a href="/docs/about">
        <span>About me 🧝🏽‍♀️</span>
      </a>
    </li>
    
  </ul>
</div>
    
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
    
    <div style="margin-left: 20pt;">
      <a href="/index.xml" type="application/rss+xml">
        <img src="/images/rss.png" alt="RSS Feed">
      </a>
    </div>
    
    <style>
      a[href="/index.xml"] {
        display: inline-block;
        vertical-align: middle;
        margin-right: 10px;
      }
    
      a[href="/index.xml"] img {
        height: 30px;
      }
    </style>
    
  </div>
</div>


    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <p>
   <a href="/docs/dfir/artefacts/data-recovery/"> 👈🏼 Back to </br> 🩻 Data Recovery </a>
  </p>
  <aside>
   <nav id="TableOfContents">
  <ul>
    <li><a href="#floppy">Floppy</a></li>
    <li><a href="#hdd">HDD</a>
      <ul>
        <li><a href="#chs-vs-lba">CHS vs LBA</a></li>
      </ul>
    </li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
 </aside>
</div>



          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">HDD Overview</h1>
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    <div class="meta">
      
      
      <div class="article-category">
          
            
            
            
            
            
              <i class="fab fa-linux"></i>&nbsp;<i class="fab fa-apple"></i>&nbsp;<i class="fab fa-windows"></i>&nbsp;<i class="fas fa-mobile"></i>
            
            
          
          
      </div> <br />
      

      
      

      
    </div>
    
    <b>Created:</b> 28.09.2020
    <br />

    

  </header>


  <div class="content" itemprop="articleBody">
    <p><em>In this article I&rsquo;m going to give a general overview of how HDDs work.</em></p>
<h2 id="floppy">Floppy</h2>
<p>Floppy disks 💾 are like dinosaurs 🦕. They are ancient, not usually used nowadays. But the mechanism is very much like the one found in an HDD that&rsquo;s why I&rsquo;ve found it useful to start the intro to HDD from a simplier mechanism. In the square brackerts I&rsquo;ll be giving an analogy with a person reading a book (inspired by <a href="https://www.takeupcode.com/podcast/226-filesystem-chs-vs-lba-modes/">takeupcode.com</a>).</p>
<p>Computer (a man 👨 ) has CPU (🧠 brains), drives (eyes 👀), RAM (memory) and lot&rsquo;s of other body parts that are not relevant for this explanation 😉. A floppy disk (and any other disk for that matter) is like a book 📘 , that the CPU can read from and write to. There is a small 💿 disk inside it (it had to be called &ldquo;a disk&rdquo; for a reason). It&rsquo;s covered with magnetized materials from both sides. When there is magnetic field detected at some location on the disk, CPU understands, that the bit is set. In human terms, it&rsquo;s a <code>1</code>. When there is no magnetic field, CPU interprets it that the bit is not set and in human terms, it means it&rsquo;s <code>0</code>. So that the whole surface of a floppy is a bunch of <code>1</code>s and <code>0</code>s for the CPU (to be more precise, we call it <code>1</code> and <code>0</code>, CPU only &ldquo;thinks&rdquo; in terms of &ldquo;is magnetic field&rdquo; or &ldquo;is signal&rdquo; and no &ldquo;magnetic field&rdquo; and &ldquo;no signal&rdquo;).</p>
<p>Floppy disks are read by special devices that are called <strong>floppy drives</strong>. Well, that was when there WERE floppies in use, of course. These devices have <em>heads</em> (which are used almoust for the same purpose as humans&rsquo; eyes in their heads) that are used to look for something and pass that information to CPU (brains 🧠). A head is simpy a sensor which gets attached from both sides of that disk when it&rsquo;s inserted into PC. It can &ldquo;feel&rdquo; whether there is or there is no magnetic charge in a particular location on the disk&rsquo;s surface. This drive has two heads for both surfaces of a disk: one below and one above. They always move to the same locations: wherever the first goes, the second follows along. So, just to stress: they always point to the same location but one -from above, and another from below.</p>
<h2 id="hdd">HDD</h2>
<p>HDDs are like floppy disks, but they consist of many disks instead of one. Since there are more than one disk, there are more than two heads as well. For each disk there are two head: from above and from below. And they move synchronously just like in a floppy 💾.</p>
<p><img src="images/tree-hdd.jpg" alt="tree-hdd"> In the above picture there can be seen circles that form a tree&rsquo;s trunk. Everyone knows that when a tree gets older, it gets new circles on its trunk. If we cut this trunk into, say, 10 platters and stack them up agains, it will resemble an HDD&rsquo;s intestines. Of course, an HDD does not get new circles with age, but still it <em>has</em> circles. These circles are called <strong>tracks</strong>. Each platter (disk inside HDD) has lots of tracks on the upper surface and the lower. Let&rsquo;s take the second circle for the example&rsquo;s sake. If we combine all the second circles from each platter, we will get a <strong>cylinder</strong>. If we were to isolate one cylinder from the HDD, it would be a hollow thing, like a bin.</p>
<p>Say, we have 10 platters in HDD and 30 tracks on each surface of each platter. Then, we have 30 cylinders in total and 20 heads (two for each platter). All 20 heads move synchronously to the same locations of the platter that they are serving to. Since the heads are moving to the same locations on different disks (same sectors),  the data is written to a cylinder ❗not a track. <a href="https://animagraffs.com/hard-disk-drive/">Here</a> at the end of the page is good demostration.</p>
<p>Now, what&rsquo;s a <strong>sector</strong>? It&rsquo;s the smallest unit of storage on <em>one</em> platter. It&rsquo;s usually 512 bytes, but there are certain types of disk that have extended sector size. A <strong>cluster</strong> constitutes a group of sectors, which are used to❗️ <strong>allocate the data</strong> storage area. They are written during high-level formatting. Can be set by user or OS. Cluster size varies with the size of the disk itself. The most common - 8 sectors. Cluster numbering starts at 1 (not 0). They are relative to the partition or volume, they are the smallest allocable units. When you save a file 1,5 clusters in size, it will actually occupy 2 clusters. The left-over space is the <em>slack space</em>, very useful when carving data and in forensic investigations.</p>
<p>Sectors are defined by the disk manufacturer and cannot be changed by OS tools. The smallest readable and writable unit on disk. Sector numbering starts at 0. Physical numbering starts from the disk start, logical - from the volume start.</p>
<blockquote>
<p>A sector is usually 512 bytes long. Also, there are typically 1-63 sectors.</p>
</blockquote>
<p><strong>Unpartitioned space</strong> is the disk space prior to the logical volume. It&rsquo;s. going to be relative to the physical disk, addressed in sectors. Mater boot record is usually there, boot code, partition tables (GPT, MBR). No cluster addressing there❗️.</p>
<p>Let&rsquo;s write &ldquo;Hello, world!&rdquo; to an HDD, to the outer cylinder. All the 20 heads of the HDD move to the outer cylinder. The first head writes <code>H</code>, the second - <code>e</code>. So, the upper platter has <code>He</code> on the outer track (<code>H</code> on the upper surface and <code>e</code> on the lower one). The third and the fourth head (the second platter) both write <code>l</code> to both sides of the platter. And so on until we get to  <code>!</code>.</p>
<p><img src="images/nested-cylinders-hdd.jpg" alt="nested-cylinders-hdd"></p>
<h3 id="chs-vs-lba">CHS vs LBA</h3>
<p><strong>CHS</strong>. To locate information, you need to know the cylinder, head, sector. Cylinder specifies the track on each platter of the disk. The head specifies: upper or lower surface of that disk. And the sector specifies the location on the plate&rsquo;s surface. If I draw a simple analogy with a book (as was suggested by takeupcode.com), then I would remember a game I used to play when I was little.</p>
<p>You make a wish or ask a question. Then you take any book and say outload, which line and which word is going to answer your question. Then, you open the book on a random page and search for the line you named and then for the word. The same principle is here. Hard drive searches for the cylinder (double-page spread), then choses even or uneven page number (head) and then searches for a specific sector (line and word on the page).</p>
<p>Was limited to 8.2Gb. Relative to the physical structure of the disk. No longer used.</p>
<p><strong>LBA</strong>. It&rsquo;s just like page numbering in a book: sequencially from the very first one to the end. A particular LBA number can be mapped to a specific cylinder, head, and sector, but now we operate on a higher layer of abstarction, not bothering with sectors, head and cylinders. <code>LBA</code> parameter on the disk label shows the number of sectors on this disk. In this case in order to get the disk size we would use the formula: <code>LBA x sector_size = total_bytes</code>.</p>
<h2 id="references">References</h2>
<p>[<a href="https://www.takeupcode.com/podcast/226-filesystem-chs-vs-lba-modes/">1</a>] Types of addressing</p>
<p>[<a href="https://animagraffs.com/hard-disk-drive/">2</a>]  HDD animation</p>
<p>[<a href="https://hdd.by/category/articles/">3</a>] Victoria HDD/SDD articles</p>

  </div>
</article>
</div>
</div>

        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic"><a href="https://www.zerostatic.io">www.zerostatic.io</a></li>
            </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  

  
  

  
  <script type="text/javascript" src="/js/scripts.min.bafc052229b4b40bf03c477d31c5cdd9352ece8afbadf35ab97ed14495098fc9.js"></script>
  

  
  
  
    
  


</body>

</html>
